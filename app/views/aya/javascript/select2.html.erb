<div class="container mt-4">
  <div class="row">
    <h5 class="border-bottom p-3">JavaScript select2</h5>
  </div>
  <div class="row mt-3">
    <p>
      概要：選択ボックスに検索機能を付加するjQueryプラグイン<br>
      使用ファイル：<br>
      app/javascript/packs/application.js<br>
      app/javascript/packs/a-select2.js<br>
      app/javascript/stylesheets/application.scss<br>
      select2.html.erb<br>
      javascript_controller.rb<br>
    </p>
  </div>
  <p class="mt-2 border p-3">
    手順1 tarminal▸<br>
    $yarn add select2<br>
    →node_modulesに追加されているのを確認<br>
  </p>
  <p class="mt-2 border p-3">
    手順2 application.js▸<br>
    import "select2"<br>
    import "./a-select2.js"<br>
  </p>
  <div class="border p-3">
    手順3 a-select2.js▸<br>
    import $ from 'jquery';<br>
    window.jQuery = $;<br>
    $(document).on('turbolinks:load', function() {<br>
    　$(document).ready(function() {<br>
    　　$('.select_search').select2();<br>
    　});<br>
    });<br>
    <p>
      手順3 Fruitモデルを作成し、select2アクションとcreateアクションを用いて投稿フォームと選択フォームを実装する<br>
      手順4 @import "select2/dist/css/select2.min.css;" CSSをimportする
    </p>
  </div>
  <div class="row mt-4">
    <div class="col-md-3">
      <div>
        登録項目
        <%= form_with model: @fruit, url: aya_javascript_select2_path, method: :post do |f| %>
          <%= f.text_field :fruit_name %>
          <%= f.submit "投稿する", class:"mt-2" %>
        <% end %>
      </div>

      <% @fruits.first(5).each_with_index do |fruit, index| %>
        <div><%= fruit.fruit_name %></div>
      <% end %>

    </div>

    <div class="col-md-6">
      select2の完成見本
      <%= form_with model: @fruit, url: aya_javascript_select2_path, method: :post do |f| %>
        <%= f.select :fruit_name, options_from_collection_for_select(Fruit.all, :id, :fruit_name), { include_blank: true }, class: "select_search", style:"width: 200px;" %>
      <% end %>
    </div>
  </div>

  <div class="row mt-4">
    <%= link_to "JavaScriptに戻る", aya_javascript_index_path, class:"my-3 btn btn-sm btn-outline-secondary" %>
  </div>
</div>